{{ define "box-details-page" }}
{{ template "open-html-tag" . }} 
{{ template "head" . }}
<body>
    {{ template "navbar" . }}
    {{ template "notification-container" . }}
    {{ template "box-details-page-content" . }}
</body>
{{ template "close-html-tag" . }}
{{end}} 


{{ define "box-details-page-content"  }}
<h1>Box details</h1>
{{ if .NotFound }}
    <p>Box "{{.Id}}" doesn't exist.</p>
    <br>
    <p style="text-align: center">:^(</p>
{{ else }}
    {{ template "box-details" . }}
{{ end }}

{{ end }}


{{ define "box-details" }}
<form id="box-{{.Id}}"
    class="box-container">
    <label for="id"></label>
    <input name="id" type="text" value="{{.Id}}" {{ if not .Edit}}readonly{{end}}>

    <label for="label"></label>
    <input name="label" type="text" value="{{.Label}}" {{ if not .Edit}}readonly{{end}}>

    <label for="description"></label>
    <input name="description" type="text" value="{{.Description}}" {{ if not .Edit}}readonly{{end}}>
<ol>
    {{ range .Items }}    
    <li style="border:solid">{{ template "item-container-2" .}}</li>
    {{ end}}
</ol>

{{ if .Edit }}
<button hx-put="/box" 
        hx-target="#box-{{.Id}}"
        hx-swap="outerHTML"
>Update box</button>
{{ else }}
<button hx-get="/box?id={{.Id}}&edit=true"
        hx-target="#box-{{.Id}}"
        hx-swap="outerHTML"
>edit</button>
{{ end }}

<button hx-get="/box?id={{.Id}}&move=true">move</button>

<button hx-delete="/box?id={{.Id}}" 
        hx-swap="outerHTML"
        hx-target="#box-{{.Id}}"
        hx-confirm="Are you sure?"
>delete</button>

</form>
{{end}}
