{{ define "settings" }}
{{ template "open-html-tag" . }} 
{{ template "head" . }}
<body>
    {{ template "navbar" . }}
    {{ template "settings-content" . }}
    {{ template "extra-js" .}}
</body>
{{ template "close-html-tag" . }}
{{end}} 

{{ define "default-style" }}<style></style>{{end}} 

{{ define "settings-content"}}
<div 
    id="snackbars"
    class="snackbar-container">
</div>
<div id="main-container">
    <div class="quarter">
    {{if .Authenticated }}
    <ul id="settings-ul">
        <li>
        <div id="welcome">{{.User}}</div>
        </li>
        <li>
            <button
                id="logout-btn"
                class="setting-button"
                type="button"
                hx-get="/logout"
                hx-target="this">
                <span>Logout</span>
            </button>
        </li>
        <li>
            <button
                class="setting-button"
                hx-get="/update"
                type="button"
                hx-swap="innerHTML"
                hx-push-url="false"
                hx-target=".three-quarters">
                <span>Update Login Data</span>
            </button>
        </li>
    </ul>
    </div>
    {{end}}
    <div class="three-quarters"></div>
</div>
{{end}}

{{ define "extra-js" }}
<script>
    if (typeof navEl == 'undefined') { 
     const navEl = document.querySelector(".nav");
     const hamburgerEl = document.querySelector(".hamburger");

      if (hamburgerEl) {
        hamburgerEl.addEventListener("click", () => {
          navEl.classList.toggle("nav--open");
          hamburgerEl.classList.toggle("hamburger--open");
        });
      }
    }

    if (typeof buttons == 'undefined') { 
    const buttons = document.querySelectorAll('.setting-button');

    buttons.forEach(button => {
      button.addEventListener('click', () => {
        buttons.forEach(btn => btn.classList.remove('clicked'));

        button.classList.add('clicked');
      });
    });
    }
</script>
{{end}}
