{{ define "shelf-details-page" }}
{{ template "open-html-tag" .}}
{{ template "head" . }}
<body>
    {{ template "navbar" . }}
    {{ template "notification-container" . }}
    {{ template "shelf-details" . }}
</body>
{{ template "close-html-tag" .}}
{{ end }}


{{ define "shelf-details" }}
<h1>Shelf Details</h1>
<form id="shelf-{{ .ID }}"
    class="box-container"
    hx-encoding="multipart/form-data">
    <div class="box-info-container">
        <div class="box-detail-info">
            <label for="id">ID:</label>
            <input name="id" type="text" value="{{ .ID }}" {{ if not .Edit }}disabled{{ end }}>

            <label for="label">Label:</label>
            <input name="label" type="text" value="{{ .Label }}" {{ if not .Edit }}disabled{{ end }}>

            <label for="description">Description:</label>
            <input name="description" type="text" value="{{ .Description }}" {{ if not .Edit }}disabled{{ end }}>

            <label for="qrcode">QRCode:</label>
            <input type="text" id="qrcode" name="qrcode" value="{{ .QRCode }}" {{ if not .Edit }}disabled{{ end }}>

            <label for="height">Height:</label>
            <input name="height" type="number" step="any" value="{{ .Height }}" {{ if not .Edit }}disabled{{ end }}>

            <label for="width">Width:</label>
            <input name="width" type="number" step="any" value="{{ .Width }}" {{ if not .Edit }}disabled{{ end }}>

            <label for="depth">Depth:</label>
            <input name="depth" type="number" step="any" value="{{ .Depth }}" {{ if not .Edit }}disabled{{ end }}>

            <label for="rows">Rows:</label>
            <input name="rows" type="number" step="1" value="{{ .Rows }}" {{ if not .Edit }}disabled{{ end }}>

            <label for="cols">Cols:</label>
            <input name="cols" type="number" step="1" value="{{ .Cols }}" {{ if not .Edit }}disabled{{ end }}>
        </div>

        <div id="image-preview-{{ .ID }}" class="box-detail-picture">
            {{ if .Picture }}
            <label for="picture">Picture:</label>
            <img class="detail" src="data:image/png;base64,{{ .Picture }}" alt="{{ .Label }}">
            {{ else }}
            <p>No image available</p>
            {{ end }}

            {{ if .Edit }}
            <input type="file" id="picture-{{ .ID }}" name="picture" accept="image/*">
            {{ else }}
            <input type="file" id="picture-{{ .ID }}" name="picture" accept="image/*" disabled>
            {{ end }}
        </div>
    </div>

    <!-- Buttons Section -->
    {{ if .Edit }}
        <button hx-put="/api/v1/update/shelf"
                hx-target="#shelf-{{ .ID }}"
                hx-push-url="false"
                hx-swap="outerHTML"
        >Update</button>
        <button type="button"
                hx-get="/shelves/{{ .ID }}"
                hx-target="body"
                hx-confirm="Are you sure?"
        >Cancel</button>
    {{ else }}
        <button hx-get="/shelves/{{ .ID }}?edit=true"
                hx-target="body"
                hx-swap="innerHTML"
        >Edit</button>
        <button hx-get="/api/v1/delete/shelf?id={{ .ID }}" >
         Move
        </button>
        <button hx-delete="/api/v1/delete/shelf?id={{ .ID }}"
                hx-swap="outerHTML"
                hx-confirm="Are you sure?">
         Delete
         </button>
    {{ end }}

</form>
{{ end }}
